<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zking.zkingedu.common.dao.EmpDao">

    <!--员工接口Mapper-->

    <!--使全局的映射器启用或禁用缓存  开启二级缓存-->
    <cache type="com.zking.zkingedu.common.redis.MybatisRedisCache"></cache>
    
    
    <select id="getemps" resultType="emp">
        select * from t_emp
    </select>

    <select id="getempbyempname" resultType="emp">
        select * from t_emp where emp_name = #{empname}
    </select>

    <select id="getmenus" resultType="menu">
        select e.* from t_emp a,t_role b,t_emp_role c,t_menu_role d,t_menu e
        where a.emp_id=c.emp_id and b.role_id=c.role_id
        and d.menu_id = e.menu_id and d.role_id = b.role_id
        and a.emp_id = #{empid}
    </select>

</mapper>